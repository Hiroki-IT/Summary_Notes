

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="ja" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="ja" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>RESTful APIの概念と実装 &mdash; sphinx-tech-notebook 1.0.0 ドキュメント</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/translations.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="検索" href="search.html" />
    <link rel="next" title="テストの手法" href="Testing.html" />
    <link rel="prev" title="オブジェクト指向プログラミング" href="ObjectOrientedProgramming.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="index.html" class="icon icon-home"> sphinx-tech-notebook
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">はじめに：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="AboutThisSite.html">このサイトについて</a></li>
</ul>
<p class="caption"><span class="caption-text">PHP：</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="ObjectOrientedAnalysisAndDesign.html">オブジェクト指向分析と設計</a></li>
<li class="toctree-l1"><a class="reference internal" href="ObjectOrientedProgramming.html">オブジェクト指向プログラミング</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">RESTful APIの概念と実装</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#restfulweb-api">01-01. RESTful設計とWeb API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pushpin-rest">:pushpin: REST</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#addressability">・Addressability</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stateless">・Stateless</a></li>
<li class="toctree-l4"><a class="reference internal" href="#connectability">・Connectability</a></li>
<li class="toctree-l4"><a class="reference internal" href="#uniform-interface">・Uniform Interface</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pushpin-restful-api">:pushpin: RESTful API へのリクエスト</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">・RESTful APIとは</a></li>
<li class="toctree-l4"><a class="reference internal" href="#url">・URLにおけるパスパラメータとクエリパラメータの使い分け（再掲）</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">・エンドポイント</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id3">:pushpin: RESTful APIからのレスポンス</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id4">・スキーマ</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id5">02-01. フロントエンドとサーバサイドの間のRESTful API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pushpin-silexrestful-api">:pushpin: SilexフレームワークによるRESTful API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id6">03-01. 異なるアプリケーション間のRESTful API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Testing.html">テストの手法</a></li>
<li class="toctree-l1"><a class="reference internal" href="FrameworkAndLibrary.html">フレームワークとライブラリ</a></li>
<li class="toctree-l1"><a class="reference internal" href="MainAlgorithm.html">代表的なアルゴリズム</a></li>
</ul>
<p class="caption"><span class="caption-text">アーキテクチャ：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="DomainDrivenDesign.html">ドメイン駆動設計</a></li>
<li class="toctree-l1"><a class="reference internal" href="CQRS.html">CQRS</a></li>
</ul>
<p class="caption"><span class="caption-text">データベース：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="OperatingDatabase.html">データベースの操作</a></li>
</ul>
<p class="caption"><span class="caption-text">セキュリティ：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="MalwareAndCyberAttacks.html">Malwareとサイバー攻撃</a></li>
<li class="toctree-l1"><a class="reference internal" href="EncryptionTechnology.html">暗号化技術</a></li>
</ul>
<p class="caption"><span class="caption-text">ネットワーク：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="HowTheInternetWorks.html">ネットワークの仕組み</a></li>
<li class="toctree-l1"><a class="reference internal" href="OnPremisesAndCloudComputing.html">オンプレミスとクラウドコンピューティング</a></li>
</ul>
<p class="caption"><span class="caption-text">仮想化技術：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ComparisonOfVirtualizationTechnologies.html">仮想化技術の比較</a></li>
<li class="toctree-l1"><a class="reference internal" href="CreationOfVirtualServer(VirtualMachine)AndContainer.html">仮想サーバ(仮想マシン)とコンテナの構築</a></li>
</ul>
<p class="caption"><span class="caption-text">ソフトウェアとハードウェアの連携：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="WhatIsSoftware.html">ソフトウェアとは</a></li>
<li class="toctree-l1"><a class="reference internal" href="WhatIsHardware.html">ハードウェアとは</a></li>
</ul>
<p class="caption"><span class="caption-text">ハードウェアに対する命令：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="MachineLanguageAndRadix.html">機械語と進数</a></li>
</ul>
<p class="caption"><span class="caption-text">組み込み機器：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="EmbeddedSystem.html">組み込み機器</a></li>
</ul>
<p class="caption"><span class="caption-text">システム開発：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="SystemDevelopmentFlow.html">システム開発の流れ</a></li>
</ul>
<p class="caption"><span class="caption-text">JavaScript：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="PrototypeBasedObjectOriented.html">プロトタイプベースのオブジェクト指向</a></li>
<li class="toctree-l1"><a class="reference internal" href="ImplementationOnTheFrontSide.html">イベント発火 〜 Webページ表示</a></li>
</ul>
<p class="caption"><span class="caption-text">R言語：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="StatisticalAnalysis.html">統計解析</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">sphinx-tech-notebook</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>RESTful APIの概念と実装</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/ConceptAndImplementationOfRESTfulAPI.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="restful-api">
<h1>RESTful APIの概念と実装<a class="headerlink" href="#restful-api" title="このヘッドラインへのパーマリンク">¶</a></h1>
<div class="section" id="restfulweb-api">
<h2>01-01. RESTful設計とWeb API<a class="headerlink" href="#restfulweb-api" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="pushpin-rest">
<h3>:pushpin: REST<a class="headerlink" href="#pushpin-rest" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>分散型システムにおける複数のソフトウェアを連携させるのに適したアーキテクチャスタイルをRESTという．また，アーキテクチャスタイルについては，オブジェクト指向分析・設計のノートを参照せよ．RESTは，以下の特徴を持つ．</p>
<div class="section" id="addressability">
<h4>・Addressability<a class="headerlink" href="#addressability" title="このヘッドラインへのパーマリンク">¶</a></h4>
</div>
<div class="section" id="stateless">
<h4>・Stateless<a class="headerlink" href="#stateless" title="このヘッドラインへのパーマリンク">¶</a></h4>
</div>
<div class="section" id="connectability">
<h4>・Connectability<a class="headerlink" href="#connectability" title="このヘッドラインへのパーマリンク">¶</a></h4>
</div>
<div class="section" id="uniform-interface">
<h4>・Uniform Interface<a class="headerlink" href="#uniform-interface" title="このヘッドラインへのパーマリンク">¶</a></h4>
</div>
</div>
<div class="section" id="pushpin-restful-api">
<h3>:pushpin: RESTful API へのリクエスト<a class="headerlink" href="#pushpin-restful-api" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="section" id="id1">
<h4>・RESTful APIとは<a class="headerlink" href="#id1" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>RESTに基づいた設計をRESTfulという．RESTful設計が用いられたWebAPIをRESTful APIという．例えば，RESTful APIの場合，DBにおけるUserInfoのCRUDに対して，一つの「/UserInfo」というURLを対応づけている．</p>
</div>
<div class="section" id="url">
<h4>・URLにおけるパスパラメータとクエリパラメータの使い分け（再掲）<a class="headerlink" href="#url" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>パスパラメータはデータをリクエストするために用いる．また，クエリパラメータは，GET送信の時に，データの検索処理／フィルタ処理／ソート処理をリクエストするために用いる．GET送信については，リクエストメッセージの説明を参照せよ．</p>
<table border="1" class="docutils">
<thead>
<tr>
<th>完全修飾ドメイン名</th>
<th>送信先のポート番号（<code>80</code>の場合は省略可）</th>
<th>ルート</th>
<th>パスパラメータ</th>
<th>？</th>
<th>クエリパラメータ（GET送信時のみ）</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>http://www.example.co.jp</code></td>
<td><code>80</code></td>
<td><code>userInfo</code></td>
<td><code>{id}</code></td>
<td><code>?</code></td>
<td><code>text1=a&amp;text2=b</code></td>
</tr>
</tbody>
</table><p><strong>【URLの具体例】</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>http://www.example.co.jp:80/userInfo/777?text1=a&amp;text2=b
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h4>・エンドポイント<a class="headerlink" href="#id2" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>APIにリソースをリクエストするためのURLのこと．エンドポイント は，リソース1つごと，あるいはまとまりごとに割り振られる．</p>
<p><img alt="RESTfulAPIを用いたリクエスト" src="https://raw.githubusercontent.com/Hiroki-IT/tech-notebook/master/markdown/image/RESTfulAPI%E3%82%92%E7%94%A8%E3%81%84%E3%81%9F%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88.png" /></p>
<table border="1" class="docutils">
<thead>
<tr>
<th align="center"><strong>送信方法</strong></th>
<th>サーバ側の処理</th>
<th>使い分け</th>
<th>エンドポイント例</th>
<th>パスパラメータ</th>
<th>注意点</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><strong>GET</strong></td>
<td>読み</td>
<td>DBデータのRead</td>
<td><code>http://www.example.co.jp/userInfo/{id}</code></td>
<td>id</td>
<td></td>
</tr>
<tr>
<td align="center"><strong>POST</strong></td>
<td>書き</td>
<td>・DBのCreate操作<br>・DBのUpdate操作<br>・PDFの作成<br>・画像やPDFの送信<br>・ログイン</td>
<td><code>http://www.example.co.jp/userInfo/</code></td>
<td>なし</td>
<td></td>
</tr>
<tr>
<td align="center"><strong>PUT</strong></td>
<td>書き</td>
<td>・DBのCreate操作<br/>・DBのUpdate操作</td>
<td><code>http://www.example.co.jp/userInfo/{id}</code></td>
<td>id</td>
<td>これよりもPOSTを使う</td>
</tr>
<tr>
<td align="center"><strong>DELETE</strong></td>
<td>書き</td>
<td>DBのDelete操作</td>
<td><code>http://www.example.co.jp/userInfo/{id}</code></td>
<td>Id</td>
<td></td>
</tr>
</tbody>
</table></div>
</div>
<div class="section" id="id3">
<h3>:pushpin: RESTful APIからのレスポンス<a class="headerlink" href="#id3" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="section" id="id4">
<h4>・スキーマ<a class="headerlink" href="#id4" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>例えば，APIが，以下のようなJSON型データをレスポンスするとする．</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;山田太郎&quot;</span><span class="p">,</span>
    <span class="nt">&quot;age&quot;</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span>
    <span class="nt">&quot;hobbies&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;野球&quot;</span><span class="p">,</span> <span class="s2">&quot;柔道&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>ここで，以下のように，レスポンスデータの各データ型をJSON型（あるいはYAML型）で記述しておく．これをスキーマという，スキーマは，レスポンスデータのバリデーションを行う時に用いる．</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
    <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;age&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
            <span class="nt">&quot;minimum&quot;</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">},</span>
        <span class="nt">&quot;hobbies&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span>
            <span class="nt">&quot;items&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="nt">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id5">
<h2>02-01. フロントエンドとサーバサイドの間のRESTful API<a class="headerlink" href="#id5" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="pushpin-silexrestful-api">
<h3>:pushpin: SilexフレームワークによるRESTful API<a class="headerlink" href="#pushpin-silexrestful-api" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Silexフレームワークの<code class="docutils literal notranslate"><span class="pre">Application</span></code>クラスや<code class="docutils literal notranslate"><span class="pre">Route</span></code>クラスには，RESTful APIを実装するためのメソッドが用意されている．</p>
<div class="highlight-PHP notranslate"><div class="highlight"><pre><span></span><span class="x">namespace Silex;</span>

<span class="x">class Application extends Container implements HttpKernelInterface, TerminableInterface</span>
<span class="x">{</span>
<span class="x">  public function match($pattern, $to = null)</span>
<span class="x">  {</span>
<span class="x">    return $this[&#39;controllers&#39;]-&gt;match($pattern, $to);</span>
<span class="x">  }</span>
<span class="x">}</span>
</pre></div>
</div>
<div class="highlight-PHP notranslate"><div class="highlight"><pre><span></span><span class="x">namespace Silex;</span>

<span class="x">class Route extends BaseRoute</span>
<span class="x">{</span>
<span class="x">  public function method($method)</span>
<span class="x">  {</span>
<span class="x">    $this-&gt;setMethods(explode(&#39;|&#39;, $method));</span>
<span class="x">    return $this;</span>
<span class="x">  }</span>
<span class="x">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id6">
<h2>03-01. 異なるアプリケーション間のRESTful API<a class="headerlink" href="#id6" title="このヘッドラインへのパーマリンク">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Testing.html" class="btn btn-neutral float-right" title="テストの手法" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ObjectOrientedProgramming.html" class="btn btn-neutral float-left" title="オブジェクト指向プログラミング" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, hiroki

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>