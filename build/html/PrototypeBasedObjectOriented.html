

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="ja" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="ja" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>プロトタイプベースのオブジェクト指向 &mdash; sphinx-tech-notebook 1.0.0 ドキュメント</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/translations.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="検索" href="search.html" />
    <link rel="next" title="イベント発火 〜 Webページ表示" href="ImplementationOnTheFrontSide.html" />
    <link rel="prev" title="システム開発の流れ" href="SystemDevelopmentFlow.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="index.html" class="icon icon-home"> sphinx-tech-notebook
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">はじめに：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="AboutThisSite.html">このサイトについて</a></li>
</ul>
<p class="caption"><span class="caption-text">PHP：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ObjectOrientedAnalysisAndDesign.html">オブジェクト指向分析と設計</a></li>
<li class="toctree-l1"><a class="reference internal" href="ObjectOrientedProgramming.html">オブジェクト指向プログラミング</a></li>
<li class="toctree-l1"><a class="reference internal" href="ConceptAndImplementationOfRESTfulAPI.html">RESTful APIの概念と実装</a></li>
<li class="toctree-l1"><a class="reference internal" href="Testing.html">テストの手法</a></li>
<li class="toctree-l1"><a class="reference internal" href="FrameworkAndLibrary.html">フレームワークとライブラリ</a></li>
<li class="toctree-l1"><a class="reference internal" href="MainAlgorithm.html">代表的なアルゴリズム</a></li>
</ul>
<p class="caption"><span class="caption-text">アーキテクチャ：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="DomainDrivenDesign.html">ドメイン駆動設計</a></li>
<li class="toctree-l1"><a class="reference internal" href="CQRS.html">CQRS</a></li>
</ul>
<p class="caption"><span class="caption-text">データベース：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="OperatingDatabase.html">データベースの操作</a></li>
</ul>
<p class="caption"><span class="caption-text">セキュリティ：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="MalwareAndCyberAttacks.html">Malwareとサイバー攻撃</a></li>
<li class="toctree-l1"><a class="reference internal" href="EncryptionTechnology.html">暗号化技術</a></li>
</ul>
<p class="caption"><span class="caption-text">ネットワーク：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="HowTheInternetWorks.html">ネットワークの仕組み</a></li>
<li class="toctree-l1"><a class="reference internal" href="OnPremisesAndCloudComputing.html">オンプレミスとクラウドコンピューティング</a></li>
</ul>
<p class="caption"><span class="caption-text">仮想化技術：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ComparisonOfVirtualizationTechnologies.html">仮想化技術の比較</a></li>
<li class="toctree-l1"><a class="reference internal" href="CreationOfVirtualServer(VirtualMachine)AndContainer.html">仮想サーバ(仮想マシン)とコンテナの構築</a></li>
</ul>
<p class="caption"><span class="caption-text">ソフトウェアとハードウェアの連携：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="WhatIsSoftware.html">ソフトウェアとは</a></li>
<li class="toctree-l1"><a class="reference internal" href="WhatIsHardware.html">ハードウェアとは</a></li>
</ul>
<p class="caption"><span class="caption-text">ハードウェアに対する命令：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="MachineLanguageAndRadix.html">機械語と進数</a></li>
</ul>
<p class="caption"><span class="caption-text">組み込み機器：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="EmbeddedSystem.html">組み込み機器</a></li>
</ul>
<p class="caption"><span class="caption-text">システム開発：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="SystemDevelopmentFlow.html">システム開発の流れ</a></li>
</ul>
<p class="caption"><span class="caption-text">JavaScript：</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">プロトタイプベースのオブジェクト指向</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id2">01-01. オブジェクトの生成，初期化</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pushpin">:pushpin: リテラル表記の使用</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">:pushpin: コンストラクタ関数の使用</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#object">・<code class="docutils literal notranslate"><span class="pre">Object</span></code>コンストラクタ関数</a></li>
<li class="toctree-l4"><a class="reference internal" href="#function">・<code class="docutils literal notranslate"><span class="pre">Function</span></code>コンストラクタ関数</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pushpin-class">:pushpin: <code class="docutils literal notranslate"><span class="pre">class</span></code>の使用</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id4">01-02. オブジェクトの操作</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">:pushpin: 継承とプロトタイプチェーン</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#new-obejct">・<code class="docutils literal notranslate"><span class="pre">new</span> <span class="pre">Obejct()</span></code>を用いた継承</a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-create">・<code class="docutils literal notranslate"><span class="pre">Object.create()</span></code>を用いた継承とメンバ追加</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#this">01-03. <code class="docutils literal notranslate"><span class="pre">this</span></code>の参照先</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id6">:pushpin: メソッドとしてコールする場合</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">:pushpin: コンストラクタ関数としてコールする場合</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id8">・関数宣言と関数式によるコンストラクタ関数内の<code class="docutils literal notranslate"><span class="pre">this</span></code>の場合</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9">・アロー関数によるコンストラクタ関数内の<code class="docutils literal notranslate"><span class="pre">this</span></code>の場合</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ImplementationOnTheFrontSide.html">イベント発火 〜 Webページ表示</a></li>
</ul>
<p class="caption"><span class="caption-text">R言語：</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="StatisticalAnalysis.html">統計解析</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">sphinx-tech-notebook</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>プロトタイプベースのオブジェクト指向</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/PrototypeBasedObjectOriented.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="id1">
<h1>プロトタイプベースのオブジェクト指向<a class="headerlink" href="#id1" title="このヘッドラインへのパーマリンク">¶</a></h1>
<div class="section" id="id2">
<h2>01-01. オブジェクトの生成，初期化<a class="headerlink" href="#id2" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="pushpin">
<h3>:pushpin: リテラル表記の使用<a class="headerlink" href="#pushpin" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>オブジェクトをリテラル表記で生成する方法．キャメルケース（小文字から始める記法）を用いる．</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// リテラル表記</span>
<span class="kr">const</span> <span class="nx">example</span> <span class="o">=</span> <span class="p">{</span>
  
  <span class="c1">// 慣習的にアンダーバーでprivateを表す．</span>
  <span class="nx">_property</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
  
    <span class="nx">set</span> <span class="nx">setValue</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_property</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">},</span>  
    
    <span class="nx">get</span> <span class="nx">getValue</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_property</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h3>:pushpin: コンストラクタ関数の使用<a class="headerlink" href="#id3" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="section" id="object">
<h4>・<code class="docutils literal notranslate"><span class="pre">Object</span></code>コンストラクタ関数<a class="headerlink" href="#object" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>キャメルケース（小文字から始める記法）を用いる．プロパティを生成するためには，値を格納する必要がある．関数宣言あるいは関数式で記述する．パスカルケース（大文字から始める記法）を用いる．ちなみに，オブジェクトのプロパティ値として生成された関数を，メソッドと呼ぶ．</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">example</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">({</span>

    <span class="nx">_property</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
  
    <span class="nx">set</span> <span class="nx">setValue</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_property</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">},</span>  
    
    <span class="nx">get</span> <span class="nx">getValue</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_property</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">})</span>
</pre></div>
</div>
</div>
<div class="section" id="function">
<h4>・<code class="docutils literal notranslate"><span class="pre">Function</span></code>コンストラクタ関数<a class="headerlink" href="#function" title="このヘッドラインへのパーマリンク">¶</a></h4>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">Example</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Function</span><span class="p">();</span>
</pre></div>
</div>
<p>ただし，公式からこのような記法は，非推奨とされている．以下の関数宣言，関数式，アロー関数の記法が推奨される．</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// 関数宣言</span>
<span class="kd">function</span> <span class="nx">Example</span><span class="p">()</span> <span class="p">{</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">_property</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>

    <span class="c1">// プロパティ値として定義した関数を，メソッドという．</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_property</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">};</span>   
  
    <span class="k">this</span><span class="p">.</span><span class="nx">getValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_property</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// 関数式</span>
<span class="kr">const</span> <span class="nx">Example</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  
    <span class="k">this</span><span class="p">.</span><span class="nx">_property</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
  
    <span class="k">this</span><span class="p">.</span><span class="nx">setValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_property</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
  <span class="p">};</span>
  
    <span class="k">this</span><span class="p">.</span><span class="nx">getValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_property</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">}</span>

<span class="c1">// アロー関数による関数式の省略記法</span>
<span class="kr">const</span> <span class="nx">Example</span> <span class="o">=</span> <span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  
    <span class="k">this</span><span class="p">.</span><span class="nx">_property</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
  
    <span class="k">this</span><span class="p">.</span><span class="nx">setValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_property</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
  <span class="p">};</span>
  
    <span class="k">this</span><span class="p">.</span><span class="nx">getValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_property</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">}</span>
</pre></div>
</div>
<p>リテラル表記と<code class="docutils literal notranslate"><span class="pre">Object</span></code>コンストラクタ関数による生成とは異なり，コンストラクタ関数によって定義されたオブジェクトは，暗示的に<code class="docutils literal notranslate"><span class="pre">prototype</span></code>プロパティをもつ．</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// リテラル表記による生成</span>
<span class="kr">const</span> <span class="nx">object1</span> <span class="o">=</span> <span class="p">{};</span>

<span class="c1">// Objectコンストラクタ関数による生成</span>
<span class="kr">const</span> <span class="nx">object2</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">({});</span>

<span class="c1">// ユーザ定義Functionコンストラクタ関数による生成</span>
<span class="kr">const</span> <span class="nx">Object3</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){};</span>

<span class="c1">// 出力結果</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
    <span class="nx">object1</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="c1">// undefined</span>
    <span class="nx">object2</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span>  <span class="c1">// undefined</span>
    <span class="nx">Object3</span><span class="p">.</span><span class="nx">prototype</span> <span class="c1">// Object3 {}</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="pushpin-class">
<h3>:pushpin: <code class="docutils literal notranslate"><span class="pre">class</span></code>の使用<a class="headerlink" href="#pushpin-class" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>ES6から，糖衣構文の<code class="docutils literal notranslate"><span class="pre">class</span></code>によって，オブジェクトを定義できるようになった．クラス宣言あるいはクラス式で記述する．オブジェクトの生成時，<code class="docutils literal notranslate"><span class="pre">constructor()</span></code>でオブジェクトの初期化を行う．パスカルケース（大文字から始める記法）を用いる．</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// クラス宣言</span>
<span class="kr">class</span> <span class="nx">Example</span> <span class="p">{</span>
  
  <span class="c1">// classでしか使えない．</span>
  <span class="c1">// Setterの代わりにコンストラクタでImmutableを実現．</span>
    <span class="nx">constructor</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">property</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="nx">getValue</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">property</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// クラス式</span>
<span class="kr">const</span> <span class="nx">Example</span> <span class="o">=</span> <span class="kr">class</span> <span class="p">{</span>
  
    <span class="c1">// classでしか使えない．</span>
  <span class="c1">// Setterの代わりにコンストラクタでImmutableを実現．</span>
    <span class="nx">constructor</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_property</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="nx">getValue</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_property</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// 生成，初期化</span>
<span class="kr">const</span> <span class="nx">example</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Example</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id4">
<h2>01-02. オブジェクトの操作<a class="headerlink" href="#id4" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id5">
<h3>:pushpin: 継承とプロトタイプチェーン<a class="headerlink" href="#id5" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>オブジェクトが暗示的に持つ<code class="docutils literal notranslate"><span class="pre">prototype</span></code>プロパティに，別のオブジェクトのメンバを追加することによって，そのオブジェクトのプロトタイプを継承することができる．オブジェクトからプロパティやメソッドをコールした時，そのオブジェクトにこれらが存在しなければ，継承元まで辿る仕組みを『プロトタイプチェーン』という．クラスベースのオブジェクト指向で用いられるクラスチェーンについては，別ノートを参照せよ．</p>
<div class="section" id="new-obejct">
<h4>・<code class="docutils literal notranslate"><span class="pre">new</span> <span class="pre">Obejct()</span></code>を用いた継承<a class="headerlink" href="#new-obejct" title="このヘッドラインへのパーマリンク">¶</a></h4>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// 大元となるオブジェクトは個別ファイルで管理しておくのがベター．</span>
<span class="c1">// コンストラクタ関数の関数式による定義．</span>
<span class="kr">const</span> <span class="nx">Example</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  
    <span class="k">this</span><span class="p">.</span><span class="nx">_property</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
  
    <span class="k">this</span><span class="p">.</span><span class="nx">setValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_property</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
  <span class="p">}</span>  
  
    <span class="k">this</span><span class="p">.</span><span class="nx">getValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_property</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">}</span>
</pre></div>
</div>
<p>別クラスで，以下のように継承する．</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// 継承元のオブジェクトのファイルを読み込むことも忘れずに．</span>
<span class="c1">// prototypeプロパティの継承先のオブジェクトを定義．</span>
<span class="kr">const</span> <span class="nx">SubExample</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">subValue</span><span class="p">)</span> <span class="p">{</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">subProperty</span> <span class="o">=</span> <span class="nx">subValue</span><span class="p">;</span>
  
    <span class="k">this</span><span class="p">.</span><span class="nx">setSubValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">subValue</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">subProperty</span> <span class="o">=</span> <span class="nx">subValue</span><span class="p">;</span>
  <span class="p">}</span>  
  
    <span class="k">this</span><span class="p">.</span><span class="nx">getSubValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">subProperty</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">}</span>

<span class="c1">// new Object()を用いた継承．</span>
<span class="nx">SubExample</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">();</span>

<span class="c1">// SubExampleクラスにはgetValue()は無い．</span>
<span class="c1">// 継承元まで辿り，Examlpeクラスからメソッドがコールされる（プロトタイプチェーン）．</span>
<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">SubExample</span><span class="p">.</span><span class="nx">getValue</span><span class="p">()</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="object-create">
<h4>・<code class="docutils literal notranslate"><span class="pre">Object.create()</span></code>を用いた継承とメンバ追加<a class="headerlink" href="#object-create" title="このヘッドラインへのパーマリンク">¶</a></h4>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// 継承元のオブジェクトのファイルを読み込むことも忘れずに．</span>
<span class="c1">// prototypeプロパティの継承先のオブジェクトを定義．</span>
<span class="kr">const</span> <span class="nx">SubExample</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">subProperty</span> <span class="o">=</span> <span class="nx">subValue</span><span class="p">;</span>
  
    <span class="k">this</span><span class="p">.</span><span class="nx">setSubValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">subValue</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">subProperty</span> <span class="o">=</span> <span class="nx">subValue</span><span class="p">;</span>
    <span class="p">};</span>
  
    <span class="k">this</span><span class="p">.</span><span class="nx">getSubValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">subProperty</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">};</span>

<span class="c1">// Object.create()を用いた継承．</span>
<span class="nx">SubExample</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">Example</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>

<span class="c1">// SubExampleクラスにはgetValue()は無い．</span>
<span class="c1">// 継承元まで辿り，Examlpeクラスからメソッドがコールされる（プロトタイプチェーン）．</span>
<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">SubExample</span><span class="p">.</span><span class="nx">getValue</span><span class="p">();</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
</pre></div>
</div>
<p>また，<code class="docutils literal notranslate"><span class="pre">Object.create()</span></code>を用いる場合，継承だけでなく，メンバを新しく追加することもできる．</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Object.create()による継承．</span>
<span class="nx">SubExample</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">Example</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="p">{</span>

    <span class="c1">// メソッドを追加する．</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">printSubValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s1">&#39;これは&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">subProperty</span> <span class="o">+</span> <span class="s1">&#39;です．&#39;</span><span class="p">;</span>
    <span class="p">};</span>
  
<span class="p">});</span>

<span class="c1">// SubExampleクラスにはprintSubValue()が追加された．</span>
<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">SubExample</span><span class="p">.</span><span class="nx">printSubValue</span><span class="p">();</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="this">
<h2>01-03. <code class="docutils literal notranslate"><span class="pre">this</span></code>の参照先<a class="headerlink" href="#this" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id6">
<h3>:pushpin: メソッドとしてコールする場合<a class="headerlink" href="#id6" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>メソッド内の<code class="docutils literal notranslate"><span class="pre">this</span></code>は，exampleオブジェクトを指す．</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">example</span> <span class="o">=</span> <span class="p">{</span>
  
  <span class="c1">// 慣習的にアンダーバーでprivateを表す．</span>
  <span class="nx">_property</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
  
    <span class="nx">set</span> <span class="nx">setValue</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_property</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">},</span>  
    
    <span class="nx">get</span> <span class="nx">getValue</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_property</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>	
</pre></div>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// メソッド内のthisは，exampleオブジェクトを指す．</span>
<span class="nx">example</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nx">example</span><span class="p">.</span><span class="nx">getValue</span><span class="p">();</span> <span class="c1">// 1</span>
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h3>:pushpin: コンストラクタ関数としてコールする場合<a class="headerlink" href="#id7" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="section" id="id8">
<h4>・関数宣言と関数式によるコンストラクタ関数内の<code class="docutils literal notranslate"><span class="pre">this</span></code>の場合<a class="headerlink" href="#id8" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>コンストラクタ関数内のthisは，自身がコールされたオブジェクトを指す．</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">param</span> <span class="o">=</span> <span class="s1">&#39;global param&#39;</span><span class="p">;</span>

<span class="c1">// 関数宣言</span>
<span class="kd">function</span> <span class="nx">printParam</span><span class="p">(){</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">param</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">object</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">param</span><span class="o">:</span> <span class="s1">&#39;object param&#39;</span><span class="p">,</span>
  <span class="nx">func</span><span class="o">:</span> <span class="nx">printParam</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">object2</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">param</span><span class="o">:</span> <span class="s1">&#39;object2 param&#39;</span><span class="p">,</span>
  <span class="nx">func</span><span class="o">:</span> <span class="nx">printParam</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// コンストラクタ関数内のthisの場合</span>
<span class="nx">object</span><span class="p">.</span><span class="nx">printParam</span><span class="p">;</span> <span class="c1">// param</span>

<span class="nx">object2</span><span class="p">.</span><span class="nx">printParam</span><span class="p">;</span> <span class="c1">// param</span>

<span class="c1">// コンストラクタ関数内のthisは，自身がコールされたオブジェクトを指す．ここでは，objectとobject2．</span>
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h4>・アロー関数によるコンストラクタ関数内の<code class="docutils literal notranslate"><span class="pre">this</span></code>の場合<a class="headerlink" href="#id9" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>アロー関数内の<code class="docutils literal notranslate"><span class="pre">this</span></code>の参照先には，十分な注意が必要である．今まで，JavaScriptでは，<code class="docutils literal notranslate"><span class="pre">this</span></code>の参照先が文脈によって変わることに批判が集まっていた．そこで，参照先が文脈によって変わらない機能が追加された．<code class="docutils literal notranslate"><span class="pre">this</span></code>は，自身が定義されたオブジェクトを指す．</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">param</span> <span class="o">=</span> <span class="s1">&#39;global param&#39;</span><span class="p">;</span>

<span class="c1">// アロー関数による省略記法</span>
<span class="kd">let</span> <span class="nx">printParam</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">param</span><span class="p">);</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">object</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">param</span><span class="o">:</span> <span class="s1">&#39;object param&#39;</span><span class="p">,</span>
  <span class="nx">func</span><span class="o">:</span> <span class="nx">printParam</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">object2</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">param</span><span class="o">:</span> <span class="s1">&#39;object2 param&#39;</span><span class="p">,</span>
  <span class="nx">func</span><span class="o">:</span> <span class="nx">printParam</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// アロー関数内のthisの場合</span>
<span class="nx">object</span><span class="p">.</span><span class="nx">printParam</span><span class="p">;</span> <span class="c1">// global param</span>

<span class="nx">object2</span><span class="p">.</span><span class="nx">printParam</span><span class="p">;</span> <span class="c1">// global param</span>

<span class="c1">// thisは，自身が定義されたオブジェクトを指す．ここでは，一番外側のWindowオブジェクト．</span>
<span class="c1">// 参照先は文脈によって変わらない．</span>
</pre></div>
</div>
<p>また，アロー関数がコールバック関数の引数となっている場合…（要勉強）</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ImplementationOnTheFrontSide.html" class="btn btn-neutral float-right" title="イベント発火 〜 Webページ表示" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="SystemDevelopmentFlow.html" class="btn btn-neutral float-left" title="システム開発の流れ" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, hiroki

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>